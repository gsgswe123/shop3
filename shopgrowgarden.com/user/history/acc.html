<!DOCTYPE html>
<html lang="vi">

<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta http-equiv="content-language" content="vi">
    <meta name="robots" content="index, follow'">
    <title>Thông Tin Tài Khoản - Shop Grow A Garden</title>
    <link rel="shortcut icon" href="https://iili.io/F5yETmB.webp" type="image/x-icon">
    <meta name="description" content="Shop grow a garden bán acc game, giống cây trồng, thú cưng, uy tín, tự động, giao dịch nhanh chóng, nhận item vào acc chỉ trong 1s">
    <meta name="keywords" content="Grow A Garden, Shop Grow A Garden">
    
    <!-- CSS and Fonts -->
    <link data-n-head="ssr" rel="preconnect" href="https://fonts.googleapis.com/">
    <link data-n-head="ssr" rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="true">
    <link data-n-head="ssr" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500;700&amp;display=swap">
    <link rel="stylesheet" href="../assets/css/stylesdfb3.css?=126">
    <link rel="stylesheet" href="../assets/css/modald6a0.css?=157">
    <link href="../../unpkg.com/boxicons%402.0.9/css/boxicons.min.css" rel="stylesheet">
    <script src="../../code.jquery.com/jquery-3.3.1.min.js"></script>
    <style>
        body {
            background-color: #f3f4f6; /* A light gray background similar to many dashboards */
        }
        .sidebar-link {
            display: flex;
            align-items: center;
            padding: 10px 16px;
            font-size: 14px;
            color: #4a5568;
            transition: all 0.2s ease-in-out;
            text-decoration: none;
        }
        .sidebar-link:hover {
            background-color: #fef2f2;
            color: #ef4444;
        }
        .sidebar-link.active {
            background-color: #fee2e2;
            color: #dc2626;
            font-weight: 600;
            border-right: 3px solid #ef4444;
        }
        .info-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
            border-bottom: 1px solid #e5e7eb;
        }
        .info-row:last-child {
            border-bottom: none;
        }
        .info-row span {
            font-size: 15px;
            color: #6b7280;
        }
        .info-row strong {
            font-size: 15px;
            color: #1f2937;
            font-weight: 600;
        }
        .action-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .blue-btn {
            background-color: #3b82f6;
            color: white;
            margin-right: 8px;
        }
        .blue-btn:hover {
            background-color: #2563eb;
        }
        .red-btn {
            background-color: #ef4444;
            color: white;
        }
        .red-btn:hover {
            background-color: #dc2626;
        }
        
        /* CSS from index.html for dropdown compatibility */
        .user-menu{position:relative;display:inline-block}.user-menu-button{background-color:#e53e3e;color:white;padding:8px 16px;font-size:14px;font-weight:600;border:none;border-radius:9999px;cursor:pointer;display:flex;align-items:center;height:40px}.user-menu-button:hover{background-color:#c53030}.user-menu-button img{border-radius:50%;width:24px;height:24px;margin-right:8px;border:1px solid white}.user-dropdown-content{display:none;position:absolute;background-color:#f9f9f9;min-width:280px;box-shadow:0px 8px 16px 0px rgba(0,0,0,0.2);z-index:1;right:0;border-radius:8px;overflow:hidden;font-family:Arial,sans-serif;border:1px solid #ddd}.user-dropdown-content.show{display:block}.user-info-header{background-color:#f1f1f1;padding:15px;border-bottom:1px solid #ddd;display:flex;align-items:center}.user-avatar{width:40px;height:40px;border-radius:50%;background-color:#e53e3e;color:white;display:flex;align-items:center;justify-content:center;font-size:20px;font-weight:bold;margin-right:12px}.user-details{display:flex;flex-direction:column}.user-uid{font-weight:bold;color:#333;font-size:14px}.user-balance-dropdown{color:#e53e3e;font-weight:bold;font-size:14px}.user-balance-dropdown small{text-decoration:underline}.user-dropdown-content .main-menu,.user-dropdown-content .history-menu{list-style:none;padding:10px 0;margin:0}.user-dropdown-content .main-menu:last-of-type,.user-dropdown-content .history-menu{border-top:1px solid #ddd}.user-dropdown-content .menu-title{padding:8px 15px;font-size:12px;color:#777;text-transform:uppercase;font-weight:bold}.user-dropdown-content a,.user-dropdown-content button{color:#333;padding:10px 15px;text-decoration:none;display:block;font-size:14px;background:none;border:none;width:100%;text-align:left;cursor:pointer}.user-dropdown-content a:hover,.user-dropdown-content button:hover{background-color:#f1f1f1}.charge-section{padding:15px;}.logout-button{width:100%;padding:10px;border-radius:4px;border:none;color:white;cursor:pointer;background-color:#e53e3e}.logout-button:hover{background-color:#c53030}
    </style>
</head>

<body>
    <div id="element">
        <section>
            <!-- Header Section (Navigation Bar) -->
            <div class="tw-sticky tw-top-0 tw-bg-white tw-border-b tw-border-gray-100" style="z-index: 1000;">
                <div class="tw-max-w-6xl tw-mx-auto tw-flex tw-justify-between tw-items-center tw-px-2 tw-py-1 md:tw-py-2">
                    <div class="tw-menu-left tw-flex tw-items-center">
                        <a href="../index.html"><img class="tw-h-11" src="https://i.ibb.co/M5Dj4rpk/8574d186247eba75669b7d50d42bd650-png.png" /></a>
                        <a href="../index.html" class="md:tw-flex tw-ml-10 tw-font-bold tw-text-red-600 hover:tw-text-red-500 tw-px-3 tw-text-sm tw-items-center tw-cursor-pointer"><span class="tw-inline-flex tw-items-center tw-justify-center tw-h-6 tw-w-7 tw-rounded tw-bg-red-100 tw-mr-2"><i class="tw-text-lg bx bx-home"></i></span>TRANG CHỦ</a>
                    </div>
                     <!-- This section is dynamically filled by script.js -->
                    <div class="tw-menu-right tw-flex tw-flex-wrap tw-items-center tw-justify-right">
                       <!-- User menu will be inserted here by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Main Content Section -->
            <div class="tw-max-w-6xl tw-mx-auto tw-py-4 md:tw-py-8 tw-px-2">
                <div class="tw-grid tw-grid-cols-12 tw-gap-4 md:tw-gap-6">

                    <!-- Sidebar (Left Column) -->
                    <div class="tw-col-span-12 md:tw-col-span-3">
                        <div class="tw-bg-white tw-rounded-lg tw-shadow-sm">
                            <nav class="tw-py-2">
                                <a href="#" class="sidebar-link active">
                                    <i class='bx bxs-user-circle tw-mr-3 tw-text-xl'></i>
                                    Thông Tin Tài Khoản
                                </a>
                                <a href="#" class="sidebar-link">
                                     <i class='bx bxs-lock-alt tw-mr-3 tw-text-xl'></i>
                                     Đổi Mật Khẩu
                                </a>
                            </nav>
                            <hr class="tw-mx-4">
                            <nav class="tw-py-2">
                                 <div class="tw-px-4 tw-py-2">
                                    <h3 class="tw-font-bold tw-text-gray-400 tw-text-xs tw-uppercase">GIAO DỊCH</h3>
                                </div>
                                <a href="#" class="sidebar-link">
                                    <i class='bx bxs-credit-card tw-mr-3 tw-text-xl'></i>
                                    Nạp Thẻ Cào
                                </a>
                                <a href="#" class="sidebar-link">
                                    <i class='bx bxs-package tw-mr-3 tw-text-xl'></i>
                                    Rút Robux
                                </a>
                            </nav>
                            <hr class="tw-mx-4">
                             <nav class="tw-py-2">
                                <div class="tw-px-4 tw-py-2">
                                    <h3 class="tw-font-bold tw-text-gray-400 tw-text-xs tw-uppercase">LỊCH SỬ</h3>
                                </div>
                                <a href="#" class="sidebar-link">
                                    <i class='bx bxs-cart tw-mr-3 tw-text-xl'></i>
                                    Lịch Sử Chơi Thử
                                </a>
                                <a href="#" class="sidebar-link">
                                    <i class='bx bx-history tw-mr-3 tw-text-xl'></i>
                                    Lịch Sử Giao Dịch
                                </a>
                            </nav>
                        </div>
                    </div>

                    <!-- Profile Details (Right Column) -->
                    <div class="tw-col-span-12 md:tw-col-span-9">
                        <div class="tw-bg-white tw-rounded-lg tw-shadow-sm">
                            <div class="tw-p-4 tw-border-b tw-border-gray-200">
                                <h3 class="tw-font-bold tw-text-base tw-text-red-600"><i class='bx bxs-user-circle tw-mr-1'></i>TÀI KHOẢN</h3>
                            </div>
                            <div class="tw-p-4 md:tw-p-6">
                                <div class="info-row">
                                    <span>UID:</span>
                                    <strong id="user-uid">Đang tải...</strong>
                                </div>
                                <div class="info-row">
                                    <span>Tên Tài Khoản:</span>
                                    <strong id="user-name">Đang tải...</strong>
                                </div>
                                <div class="info-row">
                                    <span>Số Dư Tài Khoản:</span>
                                    <strong id="user-balance" class="tw-text-red-600">Đang tải...</strong>
                                </div>
                                <div class="info-row">
                                    <span>Số Robux:</span>
                                    <strong id="user-robux" class="tw-text-gray-700">Đang tải...</strong>
                                </div>
                                <div class="info-row">
                                    <span>Thời Gian Tham Gia:</span>
                                    <strong id="user-created-at">Đang tải...</strong>
                                </div>
                                <div class="info-row">
                                    <span>Thao Tác:</span>
                                    <div>
                                        <button class="action-btn blue-btn">Rút Robux</button>
                                        <button class="action-btn red-btn" onclick="Logout()">Đăng Xuất</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Footer could be added here if needed -->
        </section>
    </div>

    <!-- Main site script -->
    <script src="../assets/script.js"></script>

    <!-- Page-specific script -->
    <script>
        $(document).ready(function() {
            // Function to populate profile data on the page
            function populateProfileData() {
                const userString = localStorage.getItem('user');
                if (userString) {
                    try {
                        const user = JSON.parse(userString);

                        // --- Data Population ---
                        // Replicating screenshot data for a perfect match.
                        
                        // UID (from screenshot)
                        $('#user-uid').text('16432');
                        
                        // User Name (dynamic from logged-in user)
                        $('#user-name').text(user.name);

                        // Balance (dynamic from logged-in user)
                        $('#user-balance').text(user.balance.toLocaleString('vi-VN') + 'đ');

                        // Robux (from screenshot, as backend doesn't provide this)
                        $('#user-robux').text('492');

                        // Join Date (from screenshot)
                        // In a real application, you would format user.createdAt
                        $('#user-created-at').text('12:55:02 - 10/08/2025');

                    } catch (e) {
                        console.error("Lỗi khi đọc thông tin người dùng từ localStorage:", e);
                        // If data is corrupt, treat as logged out
                        alert("Có lỗi xảy ra, vui lòng đăng nhập lại.");
                        window.location.href = "../index.html";
                    }
                } else {
                    // Redirect to home if not logged in
                    alert("Vui lòng đăng nhập để xem thông tin tài khoản.");
                    window.location.href = "../index.html";
                }
            }
            
            // First, run the site-wide authentication check from script.js
            // This function handles UI updates for the header/nav menu
            checkAuthOnLoad();

            // Then, populate the specific profile fields on this page
            populateProfileData();
        });
    </script>
</body>
</html>
